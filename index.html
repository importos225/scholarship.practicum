<!DOCTYPE html>
<html lang="eng">
  <head>
    <meta charset="UTF-8">
    <title>Scholarship Practicum</title>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$']],  // Используем только доллары для простоты
          displayMath: [['$$', '$$']]
        },
        startup: {
          pageReady: function() {
            console.log('MathJax loaded!');
            return MathJax.startup.defaultPageReady();
          }
        }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  </head>
  <body>
    <h1>Scholarship Practicum</h1>
    <button onclick="generateExercise()" style="margin-bottom: 12px">Новый пример</button>
    <div id="exercise"></div>
    <input type="test" id="answerInput" style="display: none;" placeholder="Введите ответ">
    <button id="checkAnswerInputButton" onclick="checkAnswerInput()" style="display: none;">Проверить</button>
    <div id="checkedAnswer"></div>
  </body>
  <script>
    function updateElementHTML(elementId, newContent) {
      const element = document.getElementById(elementId);
      element.innerHTML = newContent;
      if (window.MathJax) {
        MathJax.typesetPromise([element]).catch(function(err) {
          console.error('MathJax typeset error:', err);
        });
      }
    }
    const exercises = [
      ["$t$<sub>1</sub> = 4с<br>$x$<sub>1</sub> = 5м<br>$x$<sub>2</sub> = -3м<br>$v$ - ?<br>$v$<sub>x</sub> - ?<br>ответ вводить через запятую с пробелом, без единиц измерения", "2, -2"],
      ["$l$<sub>0</sub> = 20км<br>$v$<sub>1</sub> = 50км/ч<br>$v$<sub>2</sub> = 60км/ч<br>$t$ = 0.5<br>$S$<sub>1</sub> - ?<br>$S$<sub>2</sub> - ?<br>$l$ - ?<br>ответ вводить через запятую с пробелом, без единиц измерения", "25, 30, 35"],
      ["$v$ = 36км/час<br>$v$<sub>теч</sub> = 4км/ч<br>$S$ = 90км<br>$t$ - ? (время на переплыть туда и обратно)<br>вводить ответ округлённый до единиц, не использующий единицу измерения", "5"]
    ];
    let rightAnswer = "test";
    function generateExercise() {
      const randomIndex = Math.floor(Math.random() * exercises.length);
      updateElementHTML('exercise', exercises[randomIndex][0]);
      rightAnswer = exercises[randomIndex][1];
      console.log(rightAnswer);
      document.getElementById("answerInput").style = "display: inline";
      document.getElementById("checkAnswerInputButton").style = "display: inline";
    }
    function checkAnswerInput() {
      const answer = document.getElementById('answerInput').value;
      console.log(answer);
      console.log(rightAnswer);
      if (answer === rightAnswer) {
        updateElementHTML('checkedAnswer', 'Поздравляем, вы верны как невсегда!');
        updateElementHTML('exercise', '');
      } else {
        updateElementHTML('checkedAnswer', 'Неверно! ');
        setTimeout(() => {
            updateElementHTML('checkedAnswer', '');
        }, 2000);
      }
    }
  </script>
</html>
